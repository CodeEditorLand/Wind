import{template as p}from"solid-js/web";import{delegateEvents as A}from"solid-js/web";import{spread as x}from"solid-js/web";import{mergeProps as M}from"solid-js/web";import{use as P}from"solid-js/web";import{memo as L}from"solid-js/web";import{className as z}from"solid-js/web";import{effect as O}from"solid-js/web";import{insert as g}from"solid-js/web";import{createComponent as c}from"solid-js/web";var B=p("<div><p>Edit your <!> here:</p><br>"),I=p("<div class=w-full><div class=Editor><code class=Monaco></code><input>"),N=p("<div class=Error><span>&nbsp;&nbsp;&nbsp;"),W=p("<input type=hidden>"),me=({Type:r}={Type:"HTML"})=>{const[a,{Form:u,Field:b}]=j(),i=crypto.randomUUID();S(_(o.Editors[0],e=>{J(a,"Content",e.get(i)?.Content??"",{shouldFocus:!1,shouldTouched:!1}),D(a)},{defer:!1}));const m=Y(q(r));S(_(U.Messages[0],e=>e?.get("Type")&&m[1](e?.get("Type")),{defer:!1}));let f,t;return o.Editors[0]().set(i,{Type:r,Hidden:o.Editors[0]().size>0,Content:m[0]()}),Q(()=>{f instanceof HTMLElement&&(t=F.create(f,{value:m[0](),language:r.toLowerCase(),automaticLayout:!0,lineNumbers:"off","semanticHighlighting.enabled":"configuredByTheme",autoClosingBrackets:"always",autoIndent:"full",tabSize:4,detectIndentation:!1,useTabStops:!0,minimap:{enabled:!1},scrollbar:{useShadows:!0,horizontal:"hidden",verticalScrollbarSize:10,verticalSliderSize:4,alwaysConsumeMouseWheel:!1},folding:!1,theme:window.matchMedia("(prefers-color-scheme: dark)").matches?"Dark":"Light",wrappingStrategy:"advanced",word:"on",bracketPairColorization:{enabled:!0,independentColorPoolPerBracketType:!0},padding:{top:12,bottom:12},fixedOverflowWidgets:!0,tabCompletion:"on",acceptSuggestionOnEnter:"on",cursorWidth:5,roundedSelection:!0,matchBrackets:"always",autoSurround:"languageDefined",screenReaderAnnounceInlineSuggestion:!1,renderFinalNewline:"on",selectOnLineNumbers:!1,formatOnType:!0,formatOnPaste:!0,fontFamily:"'Source Code Pro'",fontWeight:"400",fontLigatures:!0,links:!1,fontSize:16}),t.getModel()?.setEOL(F.EndOfLineSequence.LF),t.onKeyDown(e=>{e.ctrlKey&&e.code==="KeyS"&&(e.preventDefault(),D(a),a.element?.submit())}),t.getModel()?.onDidChangeContent(()=>{o.Editors[1](T(o.Editors[0](),new Map([[i,{Content:t.getModel()?.getValue()??"",Hidden:o.Editors[0]()?.get(i)?.Hidden??!0,Type:r}]])))}),t.onDidChangeModelLanguageConfiguration(()=>t.getAction("editor.action.formatDocument")?.run()),t.onDidLayoutChange(()=>t.getAction("editor.action.formatDocument")?.run()),window.addEventListener("load",()=>t.getAction("editor.action.formatDocument")?.run()),setTimeout(()=>t.getAction("editor.action.formatDocument")?.run(),1e3),S(_(m[0],e=>t.getModel()?.setValue(e),{defer:!1})))}),(()=>{var e=B(),h=e.firstChild,H=h.firstChild,w=H.nextSibling,Z=w.nextSibling,ee=h.nextSibling;return g(h,c(X,{get each(){return Array.from(o.Editors[0]().entries())},children:(l,s)=>[c(V,{Action:()=>{o.Editors[0]().forEach((n,d)=>{n.Hidden=l[0]!==d,o.Editors[1](T(o.Editors[0](),new Map([[d,n]])))}),setTimeout(()=>{t.setScrollPosition({scrollTop:-50})},1e3)},get children(){return l[1].Type}}),L(()=>s()===o.Editors[0]().size-1?"":" / ")]}),w),g(e,c(u,{method:"post",onSubmit:K,get children(){return[c(b,{name:"Content",get validate(){return[G(`Please enter some ${r}.`)]},children:(l,s)=>(()=>{var n=I(),d=n.firstChild,C=d.firstChild,y=C.nextSibling,E=f;return typeof E=="function"?P(E,C):f=C,g(d,(()=>{var k=L(()=>!!l.error);return()=>k()&&(()=>{var $=N(),v=$.firstChild,te=v.firstChild;return $.$$click=()=>{R(a,"Content"),t.focus()},g(v,()=>l.error,null),$})()})(),y),x(y,M(s,{get value(){return o.Editors[0]()?.get(i)?.Content??""},type:"hidden",required:!0}),!1,!1),n})()}),c(b,{name:"Field",children:(l,s)=>(()=>{var n=W();return x(n,M(s,{value:r}),!1,!1),n})()})]}}),null),O(()=>z(e,o.Editors[0]()?.get(i)?.Hidden?"hidden":"")),e})()};const q=r=>{switch(r){case"CSS":return`
/* Example CSS Code */
body {

}			
`;case"HTML":return`
<!-- Example HTML Code -->
<!doctype html>
<html lang="en">
	<body>
	</body>
</html>
`;case"TypeScript":return`
/**
 * Example TypeScript Code
 */
export default () => ({});
`;default:return""}},K=({Content:r,Field:a},u)=>{u&&(u.preventDefault(),console.log(r),console.log(a))},{default:o}=await import("@Context/Action/Context"),{default:U}=await import("@Context/Connection/Context"),{default:fe}=await import("@Context/Store/Context"),{default:V}=await import("@Element/Anchor"),{default:pe}=await import("@Element/Button"),{default:ge,Fn:he}=await import("@Element/Tip/Copy"),{default:T}=await import("@Function/Merge.js");import{clearError as R,createForm as j,required as G,setValue as J,validate as D}from"@modular-forms/solid";import{editor as F}from"monaco-editor";import{onMount as Q}from"solid-js";import{For as X,createEffect as S,createSignal as Y,on as _}from"solid-js";import"@Stylesheet/Element/Action.scss";import"@Stylesheet/Element/Editor.scss";A(["click"]);export{o as Action,V as Anchor,pe as Button,U as Connection,he as Copy,T as Merge,q as Return,fe as Store,ge as Tip,K as Update,me as default};
