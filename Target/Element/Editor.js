var A=async({Type:r}={Type:"HTML"})=>{const[n,{Form:d,Field:f}]=v(),i=crypto.randomUUID();m(p(o.Editors[0],e=>{L(n,"Content",e.get(i)?.Content??"",{shouldFocus:!1,shouldTouched:!1}),C(n)},{defer:!1}));const s=H(w(r));m(p(u.Messages[0],e=>e?.get("Type")&&s[1](e?.get("Type")),{defer:!1}));let c,t;return o.Editors[0]().set(i,{Type:r,Hidden:o.Editors[0]().size>0,Content:s[0]()}),I(()=>{c instanceof HTMLElement&&(t=E.create(c,{value:s[0](),language:r.toLowerCase(),automaticLayout:!0,lineNumbers:"off","semanticHighlighting.enabled":"configuredByTheme",autoClosingBrackets:"always",autoIndent:"full",tabSize:4,detectIndentation:!1,useTabStops:!0,minimap:{enabled:!1},scrollbar:{useShadows:!0,horizontal:"hidden",verticalScrollbarSize:10,verticalSliderSize:4,alwaysConsumeMouseWheel:!1},folding:!1,theme:window.matchMedia("(prefers-color-scheme: dark)").matches?"Dark":"Light",wrappingStrategy:"advanced",word:"on",bracketPairColorization:{enabled:!0,independentColorPoolPerBracketType:!0},padding:{top:12,bottom:12},fixedOverflowWidgets:!0,tabCompletion:"on",acceptSuggestionOnEnter:"on",cursorWidth:5,roundedSelection:!0,matchBrackets:"always",autoSurround:"languageDefined",screenReaderAnnounceInlineSuggestion:!1,renderFinalNewline:"on",selectOnLineNumbers:!1,formatOnType:!0,formatOnPaste:!0,fontFamily:"'Source Code Pro'",fontWeight:"400",fontLigatures:!0,links:!1,fontSize:16}),t.getModel()?.setEOL(E.EndOfLineSequence.LF),t.onKeyDown(e=>{e.ctrlKey&&e.code==="KeyS"&&(e.preventDefault(),C(n),n.element?.submit())}),t.getModel()?.onDidChangeContent(()=>{o.Editors[1](S(o.Editors[0](),new Map([[i,{Content:t.getModel()?.getValue()??"",Hidden:o.Editors[0]()?.get(i)?.Hidden??!0,Type:r}]])))}),t.onDidChangeModelLanguageConfiguration(()=>t.getAction("editor.action.formatDocument")?.run()),t.onDidLayoutChange(()=>t.getAction("editor.action.formatDocument")?.run()),window.addEventListener("load",()=>t.getAction("editor.action.formatDocument")?.run()),setTimeout(()=>t.getAction("editor.action.formatDocument")?.run(),1e3),m(p(s[0],e=>t.getModel()?.setValue(e),{defer:!1})),u.Socket[0]()?.send(JSON.stringify({Key:l.Items[0]()?.get("Key")?.[0](),Identifier:l.Items[0]()?.get("Identifier")?.[0](),From:"Content",View:r})))}),h("div",{class:!o.Editors[0]()?.get(i)?.Hidden&&T.Data[0]()?.get("Name")?"":"hidden"},h("p",null,"Edit your"," ",h(D,{each:Array.from(o.Editors[0]().entries())},(e,a)=>h(Fragment,null,h(M,{Action:()=>{o.Editors[0]().forEach((g,y)=>{g.Hidden=e[0]!==y,o.Editors[1](S(o.Editors[0](),new Map([[y,g]])))}),setTimeout(()=>{t.setScrollPosition({scrollTop:-50})},1e3)}},e[1].Type),a()===o.Editors[0]().size-1?"":" / "))," ","here:"),h("br",null),h(d,{method:"post",onSubmit:b},h(f,{name:"Content",validate:[F(`Please enter some ${r}.`)]},(e,a)=>h("div",{class:"w-full"},h("div",{class:"Editor"},h("code",{ref:c,class:"Monaco"}),e.error&&h(Fragment,null,h("div",{class:"Error",onClick:()=>{x(n,"Content"),t.focus()}},h("span",null,"\xA0\xA0\xA0",e.error))),h("input",{...a,value:o.Editors[0]()?.get(i)?.Content??"",type:"hidden",required:!0})))),h(f,{name:"Field"},(e,a)=>h("input",{type:"hidden",...a,value:r}))))};const w=r=>{switch(r){case"CSS":return`
/* Example CSS Code */
body {

}			
`;case"HTML":return`
<!-- Example HTML Code -->
<!doctype html>
<html lang="en">
	<body>
	</body>
</html>
`;case"TypeScript":return`
/**
 * Example TypeScript Code
 */
export default () => ({});
`;default:return""}},b=({Content:r,Field:n},d)=>{d&&(d.preventDefault(),u.Socket[0]()?.send(JSON.stringify({Key:l.Items[0]()?.get("Key")?.[0](),Identifier:l.Items[0]()?.get("Identifier")?.[0](),To:n,Input:r})))},{default:o}=await import("../Context/Action/Context.js"),{default:u}=await import("../Context/Connection/Context.js"),{default:T}=await import("../Context/Session/Context.js"),{default:l}=await import("../Context/Store/Context.js"),{default:M}=await import("./Anchor.js"),{default:k}=await import("./Button.js"),{default:O,Fn:z}=await import("./Tip/Copy.js"),{default:S}=await import("../Function/Merge.js");import{clearError as x,createForm as v,required as F,setValue as L,validate as C}from"@modular-forms/solid";import{editor as E}from"monaco-editor";import{onMount as I}from"solid-js";import{For as D,createEffect as m,createSignal as H,on as p}from"solid-js";import"../Stylesheet/Element/Action.scss";import"../Stylesheet/Element/Editor.scss";export{o as Action,M as Anchor,k as Button,u as Connection,z as Copy,S as Merge,w as Return,T as Session,l as Store,O as Tip,b as Update,A as default};
